language: generic

sudo: false

before_install:
  - export PATH=/opt/ghc/8.2.1/bin:/opt/cabal/2.0/bin:$PATH
  - travis_retry cabal update

script:
  - cabal new-build all
  - test -f dist-newstyle/build/x86_64-linux/ghc-8.2.1/slay-gtk-0/c/slay-gtk-example/build/slay-gtk-example/slay-gtk-example

addons:
  apt:
    sources:
    - hvr-ghc
    packages:
    - ghc-8.2.1
    - cabal-install-2.0
    - libgtk-3-dev 
